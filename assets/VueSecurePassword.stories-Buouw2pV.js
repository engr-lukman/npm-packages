import{b as v,d as _,e as N,f as n,g as L,j as t,t as h,F as P,k as $,n as H,l as D,o as d,m as O,p as T,u as K,q as I}from"./vue.esm-bundler-CPygfMJs.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";function F(f){const{maxLength:y}=f,s=v(""),c=v(""),o=_(()=>s.value.length>=y);return{passwordMasked:s,password:c,isMaxLengthReached:o,clear:()=>{s.value="",c.value=""},passwordHandler:b=>{o.value||(s.value=`${s.value||""}*`,c.value=`${c.value||""}${b}`)}}}const l={maxLength:100,isError:!1,errorMessage:"",placeholder:"Enter Password",isEnableShuffle:!1,showKeyboard:!0,title:"Use this keyboard to enter your password",shiftLabel:"Aa",clearLabel:"Clear"},q={class:"keyboard"},z={key:0,class:"keyboard-title"},G={class:"keyboard-container"},J={class:"keyboard-section"},Q={class:"keyboard-grid alphanumeric-grid"},W=["onClick"],X=["onClick"],Y={key:0,class:"shift-indicator"},Z={class:"keyboard-section"},ee={class:"keyboard-grid special-grid"},ae=["onClick"],se=N({__name:"VirtualKeyboard",props:{isEnableShuffle:{type:Boolean,default:l.isEnableShuffle},isMaxLengthReached:{type:Boolean,default:!1},title:{default:l.title},shiftLabel:{default:l.shiftLabel},clearLabel:{default:l.clearLabel}},emits:["input","clear"],setup(f,{emit:y}){const s=f,c=y,o=v("1234567890"),u=v("ABCDEFGHIJKLMNOPQRSTUVWXYZ"),p=v("!@#$%^&*()-_+=[]{}:;'\",.<>/?|\\`~"),b=v(!0),k=r=>{const e=[...r.split("")];for(let i=e.length-1;i>0;i--){const m=Math.floor(Math.random()*(i+1));[e[i],e[m]]=[e[m],e[i]]}return e.join("")},E=_(()=>o.value.split("")),C=_(()=>u.value.split("")),S=_(()=>p.value.split("")),M=()=>{b.value=!b.value},g=r=>{s!=null&&s.isMaxLengthReached||(s!=null&&s.isEnableShuffle&&([...o.value,...u.value].includes(r)?(o.value=k(o.value),u.value=k(u.value)):p.value.includes(r)&&(p.value=k(p.value))),c("input",r))};return(r,a)=>(d(),n("div",q,[r.title?(d(),n("div",z,h(r.title),1)):L("",!0),t("div",G,[t("div",J,[a[1]||(a[1]=t("div",{class:"section-title"},"Alpha Numeric",-1)),t("div",Q,[(d(!0),n(P,null,$(E.value,(e,i)=>(d(),n("button",{key:`num-${i}`,class:"keyboard-btn",type:"button",onClick:m=>g(e)},h(e),9,W))),128)),(d(!0),n(P,null,$(C.value,(e,i)=>(d(),n("button",{key:`letter-${i}`,class:"keyboard-btn",type:"button",onClick:m=>g(e)},h(b.value?e==null?void 0:e.toUpperCase():e==null?void 0:e.toLowerCase()),9,X))),128)),t("button",{class:H(["keyboard-btn shift",{active:b.value}]),type:"button",onClick:M},[D(h(r.shiftLabel)+" ",1),b.value?(d(),n("span",Y)):L("",!0)],2),t("button",{class:"keyboard-btn clear",type:"button",onClick:a[0]||(a[0]=e=>r.$emit("clear"))},h(r.clearLabel),1)])]),t("div",Z,[a[2]||(a[2]=t("div",{class:"section-title"},"Special Characters",-1)),t("div",ee,[(d(!0),n(P,null,$(S.value,(e,i)=>(d(),n("button",{key:`special-${i}`,class:"keyboard-btn",type:"button",onClick:m=>g(e)},h(e),9,ae))),128))])])])]))}}),te=R(se,[["__scopeId","data-v-257d7ab6"]]),re={class:"password"},le=["data-placeholder"],oe={class:"password__masked-value"},ne={key:0,class:"password__error",role:"alert"},de=N({__name:"SecurePassword",props:{maxLength:{default:l.maxLength},isError:{type:Boolean,default:l.isError},errorMessage:{default:l.errorMessage},placeholder:{default:l.placeholder},isEnableShuffle:{type:Boolean,default:l.isEnableShuffle},showKeyboard:{type:Boolean,default:l.showKeyboard},title:{default:l.title},shiftLabel:{default:l.shiftLabel},clearLabel:{default:l.clearLabel}},emits:["callbackEvent"],setup(f,{emit:y}){const s=f,c=y,o=v(s.showKeyboard),u=v(null),{passwordMasked:p,password:b,isMaxLengthReached:k,clear:E,passwordHandler:C}=F(s),S=()=>{o.value=!o.value},M=()=>{E(),c("callbackEvent",{password:"",passwordMasked:""})},g=a=>{C(a),c("callbackEvent",{password:b.value,passwordMasked:p.value})},r=a=>{u.value&&!u.value.contains(a.target)&&!a.target.closest(".password__toggle")&&(o.value=!1)};return O(()=>{document.addEventListener("click",r)}),T(()=>{document.removeEventListener("click",r)}),(a,e)=>(d(),n("div",re,[t("div",{class:H(["password__field",{"password__field--error":a.isError}])},[t("div",{class:H(["password__display",{"password__display--empty":!K(p)}]),"data-placeholder":a.placeholder},[t("div",oe,h(K(p)),1)],10,le),t("div",{class:"password__actions"},[t("div",{class:"password__toggle",onClick:S},e[0]||(e[0]=[t("span",{class:"password__icon"},"⌨️",-1)]))]),a.isError?(d(),n("div",ne,h(a.errorMessage),1)):L("",!0)],2),o.value?(d(),n("div",{key:0,ref_key:"keyboardPopup",ref:u,class:"password__keyboard"},[I(te,{"is-enable-shuffle":a.isEnableShuffle,"is-max-length-reached":K(k),title:a.title,"shift-label":a.shiftLabel,"clear-label":a.clearLabel,onInput:g,onClear:M},null,8,["is-enable-shuffle","is-max-length-reached","title","shift-label","clear-label"])],512)):L("",!0)]))}}),j=R(de,[["__scopeId","data-v-c8c75be6"]]),pe={title:"Components/Secure Password (Vue.js)",component:j,argTypes:{callbackEvent:{action:"callbackEvent",description:"Emitted when password value changes or clears"}},parameters:{docs:{description:{component:`SecurePassword - A secure password input component with virtual keyboard 
designed for financial applications`}}}},ie=f=>({components:{SecurePassword:j},setup(){return{args:f,onPasswordHandler:s=>{f.callbackEvent(s)}}},template:`
    <div style="max-width: 600px; margin: 2rem;">
      <SecurePassword
        :maxLength="args.maxLength"
        :isError="args.isError"
        :errorMessage="args.errorMessage"
        :placeholder="args.placeholder"
        :isEnableShuffle="args.isEnableShuffle"
        :showKeyboard="args.showKeyboard"
        :title="args.title"
        :shiftLabel="args.shiftLabel"
        :clearLabel="args.clearLabel"
        @callbackEvent="onPasswordHandler"
      />
    </div>
  `}),w={render:ie,args:{maxLength:100,isError:!1,errorMessage:"",placeholder:"Enter Password",isEnableShuffle:!1,showKeyboard:!0,title:"Use this keyboard to enter your password",shiftLabel:"Aa",clearLabel:"Clear"}};var x,A,B,V,U;w.parameters={...w.parameters,docs:{...(x=w.parameters)==null?void 0:x.docs,source:{originalSource:`{
  render: Template,
  args: {
    maxLength: 100,
    isError: false,
    errorMessage: "",
    placeholder: "Enter Password",
    isEnableShuffle: false,
    showKeyboard: true,
    title: "Use this keyboard to enter your password",
    shiftLabel: "Aa",
    clearLabel: "Clear"
  }
}`,...(B=(A=w.parameters)==null?void 0:A.docs)==null?void 0:B.source},description:{story:`Default example
@type {import('@storybook/vue3').StoryObj}`,...(U=(V=w.parameters)==null?void 0:V.docs)==null?void 0:U.description}}};const be=["Default"];export{w as Default,be as __namedExportsOrder,pe as default};
